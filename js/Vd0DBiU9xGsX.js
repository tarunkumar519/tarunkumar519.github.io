"use strict";var sections={},keys=Object.keys(plex_l10n.global_nav_menu.sections);keys.forEach(function(e,a){sections[e]=plex_l10n.global_nav_menu.sections[e]});var sectionSlugs={"movies-tv":"movies-tv","live-tv":"live-tv",news:"news",features:"features",download:"download"},cachedData=plex_l10n.external_providers.rest_api.cached_data||!1,PlexNavBar={data:function(){return{navBar:{isMobile:!1,hasFlexGapSupport:!0,userMenu:plex_l10n.global_nav_menu.user_menu,fetchedCategories:!1,fetchedEpgCategories:!1,fetchedEpgFeatured:!1,cachedVodCategories:cachedData.vod_categories||!1,cachedEpgFeatured:cachedData.epg_featured||!1,categoriesMenu:{},categoriesEpgMenu:{},featuredEpgMenu:{},maxWindowWidth:plex_l10n.global_nav_menu.atts.max_windows_width,keyboardNavigation:!0,focusableItems:[],refs:{navSuperMenuContainer:"nav",navSuperMenuButtons:"nav",navMobileButton:"mobile",navMobileModal:"mobile",navUserContainer:"user",navSearchContainer:"search",navSearchInput:"search",navSearchResultsContainer:"search",navSearchScope:"search"},isOpened:!0,activeSection:"",activeSectionId:"",arrowStyle:"",menuStyle:{},userMenuIsOpened:!0,userMenuStyle:"",searchResultsMenuStyle:"",searchTypingTimer:"",searchTypingDelay:plex_l10n.global_nav_menu.atts.search_type_delay,searchIsFocused:!1,searchScopes:{All:"all,livetv,movies,tv,people",Movies:"movies",TV:"tv","Live TV":"livetv",People:"people"},allScopesResultsLimit:10,scopedResultsLimit:30,searchScope:"All",searchScopePrev:"All",searchQuery:"",searchQueryPrev:"",searchMaxResults:10,searchResults:[],searchMaxSuggestedTerms:5,searchSuggestedTerms:[],searchResultsIsOpened:!1,searchBaseURL:"https://watch.plex.tv",searchHasResults:null,searchScopeIsOpened:null,fetchingCategories:!1,fetchingEpgCategories:!1,fetchingEpgFeatured:!1,fetchingSearchResults:!1,fetchingSlowSearchResults:!1,fetchingArticles:!1,fetchedArticles:!1,articles:[],hasArticles:!1,mobileMenuIsOpened:!1,actionableContainerWidth:"",loadingStyle:"",activeMenuIndex:-1,providerVOD:"provider://tv.plex.provider.vod",providerEPG:"provider://tv.plex.provider.epg"}}},methods:{navOpenSection:function(e){var a=e.currentTarget,t=this.navCalculateAnchorX(a,!0),n=sections[a.id];if("touchstart"===e.type)this.navBar.isMobile=!0;else if(this.navBar.isMobile)return void(this.navBar.isMobile="click"!==e.type);if("mouseenter"!==e.type&&this.navBar.isOpened&&n===this.navBar.activeSection)return void this.navClose();this.navMaybeLoadDynamicMenuContent(n),this.navOpen(a,t)},navMaybeLoadDynamicMenuContent:function(e){switch(e){case"movies-tv":this.navGenerateCategoriesMenu();break;case"live-tv":this.navGenerateCategoriesEpgMenu(),this.navGenerateFeaturedEpgMenu()}},navSetnavArrowStyle:function(e){var a=this.$refs.arrow.offsetWidth;this.navBar.arrowStyle={"transition-property":"transform, width, height",transform:"translateX("+(e-a-this.navCalculateContainerLimitOffset())+"px)"},this.navBar.isOpened||(this.navBar.arrowStyle["transition-property"]="none")},navOpen:function(e,a){var t=sections[e.id],n=this.$refs[t];this.navSetnavArrowStyle(a),this.navUpdateMenuSize(a,n,t),this.navBar.isOpened||(this.navBar.menuStyle["transition-property"]="none"),this.navBar.activeSection=t,this.navBar.activeSectionId=e.id,Plex.debugLog()&&(console.log(this.navBar.activeSection),console.log(this.navBar.activeSectionId)),this.navBar.isOpened=!0},navSignOut:function(){this.isSigninOut=!0,PlexSignInActions.signout()},navUpdateMenuSize:function(e,a,t){var n=this.$refs[t+"-images"]||!1,i=a.offsetWidth,s=a.offsetHeight,r=e-i/2-this.navCalculateContainerLimitOffset();if(r+i>window.innerWidth-50&&(r=window.innerWidth-i-50),window.innerWidth>=1800&&(r-=50),n&&(r-=100),r<0&&(r=0),n){var o=parseInt(n.getAttribute("data-images")),c=s;o>1?c=s/o-12:c-=20;for(var h=1;h<=o;h++){var v=this.$refs[t+"-images-"+h]||!1;v&&void 0!==v.style&&(v.style.height=c-12+"px")}}this.navBar.menuStyle={"transition-property":"transform, width, height",width:i+"px",height:s+"px",transform:"translateX("+r+"px)"}},navIsActiveSection:function(e){return this.navBar.activeSection===e},navMouseLeave:function(e){"superMenuContainer"!==e.target.className&&"nav"!==e.target.className||this.navClose()},navClose:function(){this.navBar.isOpened=!1},navToggleUser:function(e){if(this.navBar.userMenuIsOpened=!this.navBar.userMenuIsOpened,this.navBar.userMenuIsOpened){var a=e.currentTarget,t=this;window.addEventListener("resize",function(){t.navUserPosition(a)}),this.navUserPosition(a)}},navUserPosition:function(e){e=e;var a=this.navCalculateAnchorX(e),t=this.navCalculateAnchorY(e),n=0;void 0!==this.$refs.navUserPopper&&(n=this.$refs.navUserPopper.offsetWidth);for(var i=a-n-this.navCalculateContainerLimitOffset(),s=document.querySelectorAll(".notification-bar:not(.cookie-consent)"),r=0,o=0;o<s.length;o++)"none"!==s[o].style.display&&(r=this.navCalculateAnchorY(s[o]));this.navBar.hasFlexGapSupport?this.navBar.userMenuStyle={transform:"translate("+i+"px,"+(t-0-r)+"px)"}:this.navBar.userMenuStyle={left:i+"px",top:t-0- -r+"px"}},navUserClose:function(){this.navBar.userMenuIsOpened=!1},navClearSearch:function(){this.navBar.searchQuery=""},navSearchSetScope:function(e){this.$refs.navSearchInput.focus(),this.navBar.searchScope=e,this.navSearchScopeClose()},navSearchRedirect:function(e){0===e.indexOf(this.navBar.searchBaseURL)&&(this.navSearchScopeClose(),window.location.href=e)},navSearchToggle:function(e){"boolean"==typeof e?this.navBar.searchScopeIsOpened=e:null===this.navBar.searchScopeIsOpened?this.navBar.searchScopeIsOpened=!0:this.navBar.searchScopeIsOpened=!this.navBar.searchScopeIsOpened},navSearchFocus:function(e){this.navBar.searchIsFocused=!0,this.navDoSearch(e)},navSearchResultsPosition:function(e){var a=e.getBoundingClientRect(),t=this.$refs.navSearchContainer.offsetWidth,n=a.x-this.navCalculateContainerLimitOffset(),i=a.height+10;if(this.navBar.searchResultsMenuStyle={width:t+"px","max-height":window.innerHeight-100+"px"},this.navBar.hasFlexGapSupport)this.navBar.searchResultsMenuStyle.transform="translate("+(n-10)+"px,"+i+"px)";else{this.navBar.searchResultsMenuStyle.left=n+-10+"px",this.navBar.searchResultsMenuStyle.top=i+"px"}},navSearchScopeClose:function(){this.navBar.searchScopeIsOpened=!1},navSearchResultsClose:function(){this.navBar.searchResultsIsOpened=!1,this.navToggleNoSCroll(!1)},navSearchSanitizedItem:function(e,a){if(void 0===e.Metadata&&(void 0===e.Directory?(e.Metadata=e.Channel,e.Metadata.type="channel",e.Metadata.thumb=e.Channel.coverPoster):e.Metadata=e.Directory),"URL"===a){var t=e.Metadata.type;"channel"===t&&(t="live-tv/"+t);return this.navBar.searchBaseURL+"/"+t+"/"+e.Metadata.slug}return e.Metadata[a]},navSearchItemIsPlayable:function(e){return[this.navBar.providerVOD,this.navBar.providerEPG].indexOf(this.navSearchSanitizedItem(e,"source"))>=0},navSearchItemTypeDesc:function(e){var a=this.navSearchSanitizedItem(e,"type"),t="",n="";switch(a){case"movie":case"show":n=this.navSearchSanitizedItem(e,"year"),t="Movie","show"===a&&(t="TV Show");break;case"channel":n=this.navSearchSanitizedItem(e,"categories")[0],t="Channel"}return t?t+" â€¢ "+n:""},navDoTermSearch:function(e){e&&(this.navBar.searchQuery=e,this.navDoSearch(e))},navDoSearch:function(e){var a=this,t="";(t=void 0!==e.target?e.target.value:e)&&(this.navBar.searchResultsIsOpened=!0,this.navSearchKeyboardNavigation(e,-1),t===this.navBar.searchQueryPrev&&this.navBar.searchScopePrev===this.navBar.searchScope||(this.navBar.fetchingSearchResults=!0,this.navBar.searchScopePrev=this.navBar.searchScope,this.navBar.searchQueryPrev=t,this.navBar.fetchingSlowSearchResults=!0,this.searchTypingTimer&&(clearTimeout(this.searchTypingTimer),this.searchTypingTimer=null),this.searchTypingTimer=setTimeout(function(){a._navDoSearch(t)},this.navBar.searchTypingDelay)))},_navDoSearch:function(e){var a=this,t=function(){a.navBar.fetchingSearchResults=!1,a.navBar.fetchingSlowSearchResults=!1,o=!0,clearTimeout(c)},n=plex_l10n.external_providers.metadata.search,i="All"!==this.navBar.searchScope?this.navBar.scopedResultsLimit:this.navBar.allScopesResultsLimit,s=n+"/?searchTypes="+encodeURIComponent(this.navSearchScopeVal)+"&includeMetadata=1&filterPeople=1&limit="+encodeURIComponent(i)+"&query="+encodeURIComponent(e),r={headers:{Accept:"application/json","X-Plex-Client-Identifier":Plex.getClientIdentifier(),"X-Plex-Product":"Plex Mediaverse","X-Plex-Provider-Version":plex_l10n.external_providers.version}};this.isSignedIn&&(r.headers["X-Plex-Token"]=Plex.getAuthToken()),PlexUtils.getParam("test_token")&&(r.headers["X-Plex-Token"]=PlexUtils.getParam("test_token"));var o=!1,c=setTimeout(function(){a.navBar.fetchingSlowSearchResults=!o},1e3);fetch(s,r).then(function(e){if(!e.ok)throw new Error("HTTP error! status: "+e.status);return e.json()}).then(function(e){if(a.navBar.searchResults=e.MediaContainer.SearchResults||[],a.navBar.searchSuggestedTerms=!1,a.navBar.searchHasResults=a.navBar.searchResults.length>0,a.navBar.searchSuggestedTerms&&(a.navBar.searchSuggestedTerms=a.navBar.searchSuggestedTerms.slice(0,a.navBar.searchMaxSuggestedTerms)),a.navBar.searchHasResults){var n=0;for(var i in a.navBar.searchResults){n+=a.navBar.searchResults[i].size||0}a.navBar.searchHasResults=n>0}a.navBar.searchResults=a.navSortedSearchResults(a.navBar.searchResults),t()}).catch(function(e){a.navBar.searchResults=[],a.navBar.searchSuggestedTerms=[],a.navBar.searchHasResults=!1,t(),Plex.debugLog()&&console.error(e)})},navGenerateCategoriesMenu:function(){if(!this.navHasCategories&&!this.navBar.fetchingCategories){var e=document.getElementById(sectionSlugs["movies-tv"]+"-super-menu-button"),a=this.navCalculateAnchorX(e,!0),t=sections[sectionSlugs["movies-tv"]+"-super-menu-button"],n=this.$refs[t],i=this,s=function(){i.navBar.fetchedCategories=!0,i.navBar.fetchingCategories=!1};if(this.navBar.cachedVodCategories)return this.navBar.categoriesMenu=this.navBar.cachedVodCategories,this.$nextTick(function(){i.navUpdateMenuSize(a,n,t)}),void s();var r=plex_l10n.external_providers.rest_api.endpoints.vod_categories,o={headers:{Accept:"application/json","Content-Type":"application/json","X-WP-Nonce":plex_l10n.rest_api.nonce}};this.navBar.fetchingCategories=!0,fetch(r,o).then(function(e){if(!e.ok)throw new Error("HTTP error! status: "+e.status);return e.json()}).then(function(e){i.navBar.categoriesMenu=e.data||{},i.navBar.activeSection===t&&i.$nextTick(function(){i.navUpdateMenuSize(a,n,t)}),s()}).catch(function(e){s(),i.navBar.activeSection===t&&i.$nextTick(function(){i.navUpdateMenuSize(a,n,t)}),Plex.debugLog()&&console.error(e)})}},navBuildEpgCategories:function(e){var a={},t=e.MediaProvider||!1;if(!t)return a;var n=t.Feature||!1;if(!n)return a;var i=n.find(function(e){return"grid"===e.type});return!i||!1 in i?a:(i.GridFilter.map(function(e){a[e.key]={slug:e.key,name:e.title}}),a)},navGenerateCategoriesEpgMenu:function(){if(!this.navHasEpgCategories&&!this.navBar.fetchingEpgCategories){var e=document.getElementById(sectionSlugs["live-tv"]+"-super-menu-button"),a=this.navCalculateAnchorX(e,!0),t=sections[sectionSlugs["live-tv"]+"-super-menu-button"],n=this.$refs[t],i=this,s=function(){i.navBar.fetchedEpgCategories=!0,i.navBar.fetchingEpgCategories=!1},r=plex_l10n.external_providers.rest_api.endpoints.epg_categories,o={headers:{Accept:"application/json","Content-Type":"application/json","X-Plex-Client-Identifier":Plex.getClientIdentifier(),"Cache-Control":"s-maxage=3600, stale-while-revalidate"}};this.navBar.fetchingEpgCategories=!0,i.$nextTick(function(){i.navUpdateMenuSize(a,n,t)}),fetch(r,o).then(function(e){if(!e.ok)throw new Error("HTTP error! status: "+e.status);return e.json()}).then(function(e){var r=e||{};i.navBar.categoriesEpgMenu=i.navBuildEpgCategories(r),i.navBar.activeSection===t&&i.$nextTick(function(){i.navUpdateMenuSize(a,n,t)}),s()}).catch(function(e){s(),i.navBar.activeSection===t&&i.$nextTick(function(){i.navUpdateMenuSize(a,n,t)}),Plex.debugLog()&&console.error(e)})}},navGenerateFeaturedEpgMenu:function(){if(!this.navHasEpgFeatured&&!this.navBar.fetchingEpgFeatured){var e=document.getElementById(sectionSlugs["live-tv"]+"-super-menu-button"),a=this.navCalculateAnchorX(e,!0),t=sections[sectionSlugs["live-tv"]+"-super-menu-button"],n=this.$refs[t],i=this,s=function(){i.navBar.fetchedEpgFeatured=!0,i.navBar.fetchingEpgFeatured=!1};if(this.navBar.cachedEpgFeatured)return this.navBar.featuredEpgMenu=this.navBar.cachedEpgFeatured,this.$nextTick(function(){i.navUpdateMenuSize(a,n,t)}),void s();var r=plex_l10n.external_providers.rest_api.endpoints.epg_featured+"?limit=3&country="+plex_l10n.external_providers.rest_api.country,o={headers:{Accept:"application/json","Content-Type":"application/json","X-WP-Nonce":plex_l10n.rest_api.nonce}};this.navBar.fetchingEpgFeatured=!0,i.$nextTick(function(){i.navUpdateMenuSize(a,n,t)}),fetch(r,o).then(function(e){if(!e.ok)throw new Error("HTTP error! status: "+e.status);return e.json()}).then(function(e){i.navBar.featuredEpgMenu=e.data||{},i.navBar.activeSection===t&&i.$nextTick(function(){i.navUpdateMenuSize(a,n,t)}),s()}).catch(function(e){s(),Plex.debugLog()&&console.error(e)})}},navUserUpdateURLs:function(){for(var e={WEB_ACCOUNT_URL:this.webURL+"/#!/settings/account",WATCHLIST_URL:this.watchlistURL},a=this.navUserMenuItems,t=0;t<a.length;t++){var n=a[t].href,i=e[n]||!1;i&&(a[t].href=i)}this.navBar.userMenu[0].items=Object.assign(this.navBar.userMenu[0].items,a)},navToggleMobile:function(){this.navBar.mobileMenuIsOpened=!this.navBar.mobileMenuIsOpened,this.navBar.mobileMenuIsOpened?this.navToggleNoSCroll(!0):this.navToggleNoSCroll(!1)},navMobileClose:function(){this.navBar.mobileMenuIsOpened=!1,this.navToggleNoSCroll(!1)},navBeforeEnter:function(e){e.style.opacity=0},navEnter:function(e,a){a&&(e.style.opacity=1)},navLeave:function(e,a){e.style.opacity=0},navKeyboardNavigation:function(e){if(this.navBar.keyboardNavigation){var a="",t=0,n=[];Plex.debugLog()&&(console.log("active section = "+this.navBar.activeSection),console.log("active section ID = "+this.navBar.activeSectionId),console.log("active element = "+document.activeElement.id));try{var i=this.navBar.activeSection;"user-menu-trigger"===this.navBar.activeSectionId&&(i="navUserPopper"),a=this.$refs[i],n=a.querySelectorAll('[role="menuitem"]'),t=n.length,Plex.debugLog()&&console.log(n)}catch(e){}switch(e.key){case"ArrowUp":case"ArrowLeft":if(!t)break;if(this.navToggleNoSCroll(!0,e),this.navBar.activeMenuIndex>0){--this.navBar.activeMenuIndex,this.navBar.activeMenuIndex<=0&&this.navBar.activeMenuIndex<0&&this.navResetMenuIndex();try{n[this.navBar.activeMenuIndex].focus()}catch(e){}}break;case"ArrowDown":case"ArrowRight":if(!t)break;if(this.navToggleNoSCroll(!0,e),this.navBar.activeMenuIndex<=t){this.navBar.activeMenuIndex++,this.navBar.activeMenuIndex>=t&&(this.navBar.activeMenuIndex=t);try{n[this.navBar.activeMenuIndex].focus()}catch(e){}}break;case"Tab":var s=Object.keys(sections).indexOf(this.navBar.activeSectionId);if(s>=Object.keys(sections).length-1&&this.navCloseAll(),"universalSearchFlyout"===this.navBar.activeSection&&"universal-search-input"!==document.activeElement.id)this.navSearchScopeClose(),this.$refs.navSearchScope.focus();else if(void 0!==document.activeElement.id&&"user-menu-trigger"===document.activeElement.id)this.$refs.navUser.click();else if("universal-search-input"===document.activeElement.id)this.navSearchResultsClose();else if("navUser"===this.navBar.activeSection)this.navCloseAll();else{var r=Object.keys(sections)[s];try{document.getElementById(r).focus()}catch(e){}}break;case"Enter":if(!t||"a"!==e.target.tagName.toLowerCase())break;e.target.click()}}},navSearchKeyboardNavigation:function(e,a,t){if("ArrowDown"===e.key||"ArrowUp"===e.key||"Tab"===e.key){if("Tab"===e.key)return this.$refs.closeSearchResults.focus(),void this.navSearchResultsClose();this.navToggleNoSCroll(!0,e),"ArrowUp"===e.key?0===a?a=t-1:--a:a>=t-1?a=0:++a,this.$refs.navSearchResult[a].focus()}},navCloseAll:function(){this.navClose(),this.navUserClose(),this.navMobileClose(),this.navSearchScopeClose(),this.navSearchResultsClose(),this.navSearchToggle(!1)},navGroupClose:function(e){switch(e){case"mobile":this.navMobileClose();break;case"user":this.navUserClose();break;case"search":this.navBar.searchIsFocused=!1,this.navSearchScopeClose(),this.navSearchResultsClose(),this.navSearchToggle(!1);break;default:this.navClose()}},navResetMenus:function(){this.navBar.activeSection="",this.navBar.activeSectionId="",this.navBar.activeSectionEventType="",this.navToggleNoSCroll(),this.navResetMenuIndex()},navResetMenuIndex:function(){this.navBar.activeMenuIndex=-1},navToggleNoSCroll:function(e,a){(e=e||!1)&&void 0!==a&&a.preventDefault()},navCalculateContainerLimitOffset:function(){return window.innerWidth<=this.navBar.maxWindowWidth?0:(window.innerWidth-this.navBar.maxWindowWidth)/2},navCalculateAnchorX:function(e,a){if(!e)return 0;a=a||!1;var t=e.getBoundingClientRect();return a?Math.floor(t.x+t.width/2):Math.floor(t.x+t.width)},navCalculateAnchorY:function(e){if(!e)return 0;var a=e.getBoundingClientRect();return Math.floor(a.y+a.height)},navClickedOutside:function(e,a){var t=this.navBar.refs,n=this,i=[];document.addEventListener("click",function(s){var r=!0,o=[];if(Object.keys(t).forEach(function(e,a){var c=n.$refs[e]||!1;if(r=c&&c.contains(s.target)){o.push(t[e]);var h=i.indexOf(t[e]);h>-1&&i.splice(h,1)}else i.indexOf(t[e])<0&&o.indexOf(t[e])<0&&i.push(t[e])}),i.length&&e){var c=!0,h=!1,v=void 0;try{for(var l,u=i[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var d=l.value;a(d)}}catch(e){h=!0,v=e}finally{try{!c&&u.return&&u.return()}finally{if(h)throw v}}}})},navMediaverseCategoryURL:function(e){var a=e.match(/genre=(\w+)/);return a&&a.length?PlexUtils.getMediaverseCategoryURL(a[1]):PlexUtils.getMediaverseCategoryURL(e)},navMediaverseEpgCategoryURL:function(e){var a=e.match(/grid\/(.*)/);return a&&a.length?PlexUtils.getMediaverseEpgCategoryURL(a[1]):PlexUtils.getMediaverseEpgCategoryURL(e)},navMediaverseEpgChannelURL:function(e){return PlexUtils.getMediaverseEpgChannelURL(e)},navUCFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},navToggleMenuItems:function(e){this.$refs.globalNav.querySelector(".nav").style.display=e?"none":""},navSortedSearchResults:function(e){function a(e,a){return(e.find(function(e){return e.id===a})||[]).SearchResult||[]}var t=a(e,"plex"),n=a(e,"external"),i=a(e,"people"),s=a(e,"liveTv").filter(function(e){return"Channel"in e});return t.concat(n,s,i).filter(function(e,a,t){return!("Metadata"in e)||t.findIndex(function(a){return"Metadata"in a&&e.Metadata.guid===a.Metadata.guid})===a}).sort(function(e,a){return a.score-e.score}).slice(0,this.navBar.allScopesResultsLimit)},navSearchScopeFocus:function(){this.navBar.searchIsFocused=!0}},computed:{navUserMenuItems:function(){return this.navBar.userMenu[0].items},navSearchScopeVal:function(){return this.navBar.searchScopes[this.navBar.searchScope]},navSearchHasResults:function(){return void 0!==this.navBar.searchResults&&this.navBar.searchResults.length>0},navHasCategories:function(){return Object.keys(this.navBar.categoriesMenu).length>0},navHasEpgCategories:function(){return Object.keys(this.navBar.categoriesEpgMenu).length>0},navHasEpgFeatured:function(){return Object.keys(this.navBar.featuredEpgMenu).length>0},navUserOpenAppLabel:function(){return"iOS"===platform.os.family?"Get Plex for iOS":"Android"===platform.os.family?"Get Plex for Android":"Open Plex"}},watch:{isSigninIn:function(){this.navBar.loadingStyle="min-width:"+this.navBar.actionableContainerWidth+"px"},isSigninOut:function(){this.navBar.loadingStyle="min-width:"+this.navBar.actionableContainerWidth+"px"},"navBar.isOpened":function(e){e||this.navResetMenus()},"navBar.activeSection":function(e){this.navResetMenuIndex()},"navBar.searchQuery":function(e){e||(this.navBar.searchResults=[],this.navSearchResultsClose(),this.navSearchScopeClose(),this.navBar.searchHasResults=null)},"navBar.searchIsFocused":function(e){var a=!1;this.$refs.navSearchContainer.offsetWidth<384&&(a=!0),e?this.navBar.searchScopeIsOpened=!1:this.navSearchResultsClose(),a?this.navToggleMenuItems(e):this.navToggleMenuItems(!1)},"navBar.searchResults":function(e){""!==e&&(this.navBar.fetchingSearchResults=!1)},"navBar.searchScope":function(e){this.navDoSearch(this.$refs.navSearchInput.value)},"navBar.searchResultsIsOpened":function(e){if(e){var a=this.$refs.navSearchContainer,t=this;window.addEventListener("resize",function(){t.navSearchResultsPosition(a)}),this.navSearchResultsPosition(a)}},"navBar.searchScopeIsOpened":function(e){e&&(this.navBar.searchIsFocused=!1,this.navBar.activeSection="universalSearchFlyout",this.navBar.activeSectionId="universal-search-input")},"navBar.userMenuIsOpened":function(e){e&&(this.navBar.activeSection="navUser",this.navBar.activeSectionId="user-menu-trigger")}},mounted:function(){var e=this;this.navUserUpdateURLs(),this.navBar.isOpened=!1,this.navBar.userMenuIsOpened=!1,this.navBar.searchScopeIsOpened=!1,this.navBar.actionableContainerWidth=this.$refs.navActionable.offsetWidth,this.navBar.focusableItems=this.$refs.globalNav.querySelectorAll('[tabindex="0"]'),this.navClickedOutside(!0,this.navGroupClose),window.addEventListener("keyup",function(a){27===a.keyCode&&e.navCloseAll()}),document.addEventListener("keydown",this.navKeyboardNavigation),this.navBar.hasFlexGapSupport=PlexUtils.isFlexGapSupported()}};PlexTemplating.extendTemplate("plex-global-nav",PlexNavBar);